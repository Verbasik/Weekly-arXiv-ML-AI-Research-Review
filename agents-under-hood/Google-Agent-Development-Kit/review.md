# Google Agent Development Kit (ADK)

## Введение

В условиях быстрого развития искусственного интеллекта и растущей сложности задач, решаемых с помощью ИИ, возникает острая потребность в надежных и гибких инструментах для разработки интеллектуальных агентов. Google Agent Development Kit (ADK) представляет собой именно такой фреймворк, разработанный Google для упрощения создания, развертывания и управления агентами на базе искусственного интеллекта. Этот обзор посвящен глубокому анализу Google ADK, его архитектуры, ключевых компонентов, технических особенностей и потенциальных применений. Мы рассмотрим, как ADK облегчает разработку агентов, делая ее более похожей на традиционную разработку программного обеспечения, и как он поддерживает создание как простых, так и сложных многоагентных систем.




## Что такое Agent Development Kit?

Agent Development Kit (ADK) — это гибкий и модульный фреймворк для разработки и развертывания агентов ИИ. Оптимизированный для Gemini и экосистемы Google, ADK является **модельно-независимым** и **независимым от развертывания**, а также создан для совместимости с другими фреймворками. ADK был разработан, чтобы сделать разработку агентов более похожей на разработку программного обеспечения, упростить для разработчиков создание, развертывание и оркестрацию агентных архитектур, которые варьируются от простых задач до сложных рабочих процессов.




## Начало работы с ADK

Agent Development Kit (ADK) призван помочь разработчикам создавать, управлять, оценивать и развертывать агентов на базе ИИ. Он предоставляет надежную и гибкую среду для создания как разговорных, так и неразговорных агентов, способных выполнять сложные задачи и рабочие процессы. Процесс начала работы включает в себя следующие ключевые шаги:

*   **Установка**: Установите `google-adk` для Python или Java, и вы сможете начать работу за считанные минуты.
*   **Быстрый старт**: Создайте своего первого агента ADK с инструментами за считанные минуты.
*   **Быстрый старт (потоковая передача)**: Создайте своего первого потокового агента ADK.
*   **Учебное пособие**: Создайте своего первого мультиагента ADK.
*   **Примеры агентов**: Откройте для себя примеры агентов для розничной торговли, путешествий, обслуживания клиентов и многого другого!
*   **О ADK**: Узнайте о ключевых компонентах создания и развертывания агентов ADK.




## Справочник по API

Agent Development Kit (ADK) предоставляет исчерпывающие справочники по API как для Python, так и для Java, позволяя глубоко изучить все доступные классы, методы и функциональные возможности.

### Справочник по API Python

Полная документация по API для Python Agent Development Kit. Подробная информация обо всех модулях, классах, функциях и примерах для создания сложных агентов ИИ на Python.

Ключевые модули включают:

*   **`google.adk.agents`**: Этот модуль составляет основу ADK, определяя различные типы агентов и их иерархические отношения. `BaseAgent` служит фундаментальным строительным блоком, предоставляя общие атрибуты и механизмы обратного вызова. `LlmAgent` расширяет эту базу, специально разработанный для агентов, работающих на больших языковых моделях (LLM), включая конфигурации для моделей, инструкций и инструментов. Возможность определять `parent_agent` и `sub_agents` позволяет создавать сложные многоагентные системы, где агенты могут делегировать задачи и сотрудничать. Методы `find_agent()` и `find_sub_agent()` обеспечивают навигацию и управление в этой иерархии агентов. Методы `run_async()` и `run_live()` подчеркивают поддержку ADK как текстовых, так и реальных (видео/аудио) взаимодействий, демонстрируя его универсальность в обработке различных разговорных модальностей.

*   **`google.adk.artifacts`**: Этот модуль управляет сохранением данных, связанных с агентами, называемых артефактами. `BaseArtifactService` предоставляет стандартизированный интерфейс для сохранения, загрузки, перечисления и удаления этих артефактов. Конкретные реализации, такие как `GcsArtifactService` (для Google Cloud Storage) и `InMemoryArtifactService` (для хранения в памяти), демонстрируют подключаемый характер ADK, позволяя разработчикам выбирать предпочтительный бэкенд хранения в зависимости от их потребностей развертывания. Эта модульность обеспечивает эффективное и постоянное управление данными агентов в различных средах.

*   **`google.adk.code_executors`**: Этот модуль имеет решающее значение для обеспечения возможности агентов выполнять код, устраняя разрыв между возможностями рассуждения LLM и действиями в реальном мире. `BaseCodeExecutor` позволяет агентам интерпретировать и запускать блоки кода, сгенерированные моделями, и включать результаты обратно в ответ агента. Такие функции, как `optimize_data_file` и `stateful`, указывают на то, что ADK предоставляет механизмы для эффективной обработки данных и управления состоянием во время выполнения кода. Использование `code_block_delimiters` и `execution_result_delimiters` предполагает структурированный подход к анализу и форматированию результатов выполнения кода, что жизненно важно для надежной работы агента.

*   **`google.adk.evaluation`**: Этот модуль посвящен тестированию и оценке агентов. Класс `AgentEvaluator` с его методом `evaluate()` предоставляет систематический способ оценки производительности агента по заранее определенным тестовым случаям и наборам данных. Эта возможность необходима для обеспечения качества, надежности и эффективности разработанных агентов, позволяя разработчикам итерировать и улучшать свои проекты агентов на основе эмпирических результатов.

*   **`google.adk.events`**: Класс `Event` в этом модуле является центральным для отслеживания и представления потока разговоров и действий в системе агентов. Захватывая такие детали, как `invocation_id`, `author`, `actions` и `timestamp`, ADK предоставляет полный журнал аудита взаимодействий агентов. Эта событийно-ориентированная архитектура является фундаментальной для отладки, мониторинга и понимания поведения сложных многоагентных рабочих процессов.

*   **`google.adk.examples`**: Этот модуль поддерживает концепцию обучения с помощью нескольких примеров и обучения в контексте, предоставляя механизмы для управления и использования примеров. Классы `BaseExampleProvider` и `Example` облегчают предоставление структурированных примеров агентам, что может значительно улучшить их производительность и направлять их поведение в конкретных сценариях.

*   **`google.adk.memory`**: Модуль `memory` позволяет агентам поддерживать и использовать историю разговоров и другую соответствующую информацию с течением времени. `BaseMemoryService` определяет интерфейс для управления памятью, включая добавление сеансов в память и поиск прошлых взаимодействий. `InMemoryMemoryService` предоставляет базовую реализацию, подчеркивая важность памяти для обеспечения более связного и контекстно-ориентированного поведения агента.

*   **`google.adk.models`**: Этот модуль предоставляет необходимые абстракции для интеграции различных больших языковых моделей (LLM) в ADK. Класс `BaseLlm` определяет общий интерфейс для взаимодействия с различными LLM, включая методы для перечисления поддерживаемых моделей и генерации контента. Эта модульность позволяет разработчикам переключаться между различными LLM (например, Gemini, GPT, Claude) в зависимости от их конкретных потребностей и предпочтений, способствуя гибкости и перспективности проектов агентов.

*   **`google.adk.planners`**: Модуль `planners` отвечает за то, чтобы агенты могли генерировать и обрабатывать планы для руководства своими действиями. Класс `BasePlanner` предоставляет основу для этой возможности планирования, позволяя агентам разбивать сложные задачи на более мелкие, управляемые шаги. `BuiltInPlanner` использует встроенные возможности планирования LLM, демонстрируя, как ADK может использовать расширенные функции модели для более сложного поведения агента.

*   **`google.adk.runners`**: Этот модуль предоставляет среду выполнения для агентов. Класс `Runner` организует выполнение агента в рамках сеанса, управляя обработкой сообщений, генерацией событий и взаимодействием с другими службами, такими как хранилище артефактов и управление сеансами. `InMemoryRunner` предлагает легкую среду для тестирования и разработки, упрощая начальные этапы создания агента.

*   **`google.adk.sessions`**: Модуль `sessions` отвечает за управление жизненным циклом взаимодействий агентов. `BaseSessionService` предоставляет методы для создания, закрытия, добавления событий и удаления сеансов. Этот структурированный подход к управлению сеансами гарантирует, что разговоры и действия агентов правильно контекстуализированы и поддерживаются.

*   **`google.adk.tools`**: Этот пакет имеет решающее значение для расширения возможностей агентов, позволяя им взаимодействовать с внешними системами и API. Класс `APIHubTool` позволяет агентам генерировать и использовать инструменты из Google API Hub, предоставляя беспрепятственный способ интеграции с широким спектром внешних служб. Эта возможность использования инструментов является фундаментальной для создания агентов, которые могут выполнять действия в реальном мире и получать доступ к актуальной информации.






## Архитектура и технические особенности Google Agent Development Kit

Google Agent Development Kit (ADK) разработан как гибкий и модульный фреймворк для создания и развертывания агентов ИИ. Его архитектура подчеркивает **модельно-независимость** и **независимость от развертывания**, что обеспечивает широкую совместимость с различными LLM и средами развертывания. Основные принципы проектирования направлены на то, чтобы сделать разработку агентов более похожей на традиционную разработку программного обеспечения, облегчая создание, оркестрацию и управление сложными агентными системами.

### Основные компоненты и их взаимодействие

Архитектура ADK построена на нескольких ключевых модулях Python, каждый из которых отвечает за определенный аспект функциональности агента. Эти модули взаимодействуют, чтобы обеспечить комплексную среду для разработки агентов:

*   **`google.adk.agents`**: Этот модуль составляет основу ADK, определяя различные типы агентов и их иерархические отношения. `BaseAgent` служит фундаментальным строительным блоком, предоставляя общие атрибуты и механизмы обратного вызова. `LlmAgent` расширяет эту базу, специально разработанный для агентов, работающих на больших языковых моделях, включая конфигурации для моделей, инструкций и инструментов. Возможность определять `parent_agent` и `sub_agents` позволяет создавать сложные многоагентные системы, где агенты могут делегировать задачи и сотрудничать. Методы `find_agent()` и `find_sub_agent()` обеспечивают навигацию и управление в этой иерархии агентов. Методы `run_async()` и `run_live()` подчеркивают поддержку ADK как текстовых, так и реальных (видео/аудио) взаимодействий, демонстрируя его универсальность в обработке различных разговорных модальностей.

*   **`google.adk.artifacts`**: Этот модуль управляет сохранением данных, связанных с агентами, называемых артефактами. `BaseArtifactService` предоставляет стандартизированный интерфейс для сохранения, загрузки, перечисления и удаления этих артефактов. Конкретные реализации, такие как `GcsArtifactService` (для Google Cloud Storage) и `InMemoryArtifactService` (для хранения в памяти), демонстрируют подключаемый характер ADK, позволяя разработчикам выбирать предпочтительный бэкенд хранения в зависимости от их потребностей развертывания. Эта модульность обеспечивает эффективное и постоянное управление данными агентов в различных средах.

*   **`google.adk.code_executors`**: Этот модуль имеет решающее значение для обеспечения возможности агентов выполнять код, устраняя разрыв между возможностями рассуждения LLM и действиями в реальном мире. `BaseCodeExecutor` позволяет агентам интерпретировать и запускать блоки кода, сгенерированные моделями, и включать результаты обратно в ответ агента. Такие функции, как `optimize_data_file` и `stateful`, указывают на то, что ADK предоставляет механизмы для эффективной обработки данных и управления состоянием во время выполнения кода. Использование `code_block_delimiters` и `execution_result_delimiters` предполагает структурированный подход к анализу и форматированию результатов выполнения кода, что жизненно важно для надежной работы агента.

*   **`google.adk.evaluation`**: Этот модуль посвящен тестированию и оценке агентов. Класс `AgentEvaluator` с его методом `evaluate()` предоставляет систематический способ оценки производительности агента по заранее определенным тестовым случаям и наборам данных. Эта возможность необходима для обеспечения качества, надежности и эффективности разработанных агентов, позволяя разработчикам итерировать и улучшать свои проекты агентов на основе эмпирических результатов.

*   **`google.adk.events`**: Класс `Event` в этом модуле является центральным для отслеживания и представления потока разговоров и действий в системе агентов. Захватывая такие детали, как `invocation_id`, `author`, `actions` и `timestamp`, ADK предоставляет полный журнал аудита взаимодействий агентов. Эта событийно-ориентированная архитектура является фундаментальной для отладки, мониторинга и понимания поведения сложных многоагентных рабочих процессов.

*   **`google.adk.examples`**: Этот модуль поддерживает концепцию обучения с помощью нескольких примеров и обучения в контексте, предоставляя механизмы для управления и использования примеров. Классы `BaseExampleProvider` и `Example` облегчают предоставление структурированных примеров агентам, что может значительно улучшить их производительность и направлять их поведение в конкретных сценариях.

*   **`google.adk.memory`**: Модуль `memory` позволяет агентам поддерживать и использовать историю разговоров и другую соответствующую информацию с течением времени. `BaseMemoryService` определяет интерфейс для управления памятью, включая добавление сеансов в память и поиск прошлых взаимодействий. `InMemoryMemoryService` предоставляет базовую реализацию, подчеркивая важность памяти для обеспечения более связного и контекстно-ориентированного поведения агента.

*   **`google.adk.models`**: Этот модуль предоставляет необходимые абстракции для интеграции различных больших языковых моделей (LLM) в ADK. Класс `BaseLlm` определяет общий интерфейс для взаимодействия с различными LLM, включая методы для перечисления поддерживаемых моделей и генерации контента. Эта модульность позволяет разработчикам переключаться между различными LLM (например, Gemini, GPT, Claude) в зависимости от их конкретных потребностей и предпочтений, способствуя гибкости и перспективности проектов агентов.

*   **`google.adk.planners`**: Модуль `planners` отвечает за то, чтобы агенты могли генерировать и обрабатывать планы для руководства своими действиями. Класс `BasePlanner` предоставляет основу для этой возможности планирования, позволяя агентам разбивать сложные задачи на более мелкие, управляемые шаги. `BuiltInPlanner` использует встроенные возможности планирования LLM, демонстрируя, как ADK может использовать расширенные функции модели для более сложного поведения агента.

*   **`google.adk.runners`**: Этот модуль предоставляет среду выполнения для агентов. Класс `Runner` организует выполнение агента в рамках сеанса, управляя обработкой сообщений, генерацией событий и взаимодействием с другими службами, такими как хранилище артефактов и управление сеансами. `InMemoryRunner` предлагает легкую среду для тестирования и разработки, упрощая начальные этапы создания агента.

*   **`google.adk.sessions`**: Модуль `sessions` отвечает за управление жизненным циклом взаимодействий агентов. `BaseSessionService` предоставляет методы для создания, закрытия, добавления событий и удаления сеансов. Этот структурированный подход к управлению сеансами гарантирует, что разговоры и действия агентов правильно контекстуализированы и поддерживаются.

*   **`google.adk.tools`**: Этот пакет имеет решающее значение для расширения возможностей агентов, позволяя им взаимодействовать с внешними системами и API. Класс `APIHubTool` позволяет агентам генерировать и использовать инструменты из Google API Hub, предоставляя беспрепятственный способ интеграции с широким спектром внешних служб. Эта возможность использования инструментов является фундаментальной для создания агентов, которые могут выполнять действия в реальном мире и получать доступ к актуальной информации.

### Ключевые архитектурные принципы

1.  **Модульность**: ADK разработан с высокомодульной архитектурой, где каждый компонент (агенты, артефакты, исполнители кода и т. д.) инкапсулирован в свой собственный модуль. Это способствует повторному использованию кода, удобству сопровождения и позволяет разработчикам выбирать необходимые компоненты.
2.  **Расширяемость**: Использование абстрактных базовых классов (например, `BaseAgent`, `BaseArtifactService`, `BaseMemoryService`) и четких интерфейсов позволяет разработчикам расширять и настраивать ADK в соответствии со своими конкретными требованиями. Это проявляется в возможности подключать различные бэкенды хранения для артефактов или интегрировать различные LLM.
3.  **Модельно-независимость**: Хотя ADK оптимизирован для Gemini, он разработан для совместимости с другими LLM, как показано в модуле `google.adk.models` и в учебных пособиях, демонстрирующих использование LiteLLM для интеграции GPT и Claude. Это обеспечивает гибкость и предотвращает привязку к поставщику.
4.  **Независимость от развертывания**: Фреймворк создан для поддержки развертывания в различных средах, от локальной разработки (например, `InMemoryRunner`) до облачных решений (например, `GcsArtifactService`). Это упрощает переход от разработки к производству.
5.  **Лучшие практики разработки программного обеспечения**: ADK стремится привнести строгость разработки программного обеспечения в разработку агентов. Это включает в себя такие функции, как структурированное ведение журнала событий, инструменты оценки и четкие определения API, что упрощает создание, отладку и обслуживание сложных агентных систем.
6.  **Оркестрация нескольких агентов**: Иерархическая структура агентов с родительскими и дочерними агентами, а также акцент на делегирование и связь между агентами (как показано в учебном пособии по команде агентов) подчеркивают сильную поддержку ADK для создания сложных многоагентных систем.
7.  **Использование инструментов**: Пакет `google.adk.tools` подчеркивает важность интеграции внешних инструментов, позволяя агентам выполнять действия, выходящие за рамки их врожденных разговорных способностей, такие как взаимодействие с API или выполнение кода.

В итоге, Google Agent Development Kit предоставляет надежный, гибкий и удобный для разработчиков фреймворк для создания широкого спектра агентов ИИ, от простых разговорных ботов до сложных многоагентных систем, способных взаимодействовать с внешними инструментами и управлять постоянными данными. Его модульная и расширяемая конструкция, в сочетании с акцентом на лучшие практики разработки программного обеспечения, позиционирует его как мощный инструмент для развивающегося ландшафта разработки агентов ИИ.



