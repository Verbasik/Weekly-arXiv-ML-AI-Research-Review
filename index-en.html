<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Weekly Research Brief</title>
    <!-- External CSS Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5.2.0/github-markdown.min.css">
    <!-- Google Fonts for Modern Typography & Pixel Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Pixel Fonts for Gaming Aesthetic -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Pixelify+Sans:wght@400;500;600;700&family=Silkscreen:wght@400;700&family=VT323&display=swap" rel="stylesheet">
    <!-- Pixel Theme (New Gaming Design) -->
    <link rel="stylesheet" href="web/css/pixel-theme.css">
    <!-- Scale AI Theme (Legacy) -->
    <!-- <link rel="stylesheet" href="web/css/scale-ai-theme.css"> -->
    <!-- Mobile Optimizations -->
    <link rel="stylesheet" href="web/css/mobile-optimizations.css">
    
    <!-- Custom Styles -->
    <style>
        .new-badge {
            background-color: #ff5252;
            color: white;
            font-size: 0.7em;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 5px;
            font-weight: bold;
        }
    </style>

    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true,
                packages: {'[+]': ['ams', 'noerrors', 'boldsymbol', 'newcommand']}
            },
            svg: {                fontCache: 'global',
                scale: 1.1,
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/ams', '[tex]/noerrors', '[tex]/boldsymbol', '[tex]/newcommand']
            },
            startup: {
                typeset: false, // We will call typeset manually after loading content
                ready: function() {
                    MathJax.startup.defaultReady();
                }
            }
        };
    </script>
    <!-- MathJax Library -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- Marked.js for markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <header class="pixel-p-4">
        <div class="pixel-container">
            <div class="pixel-card pixel-card--accent pixel-flex pixel-flex-between pixel-gap-4 hero-card">
                <div class="pixel-flex-center pixel-gap-3">
                    <div style="font-size: 3rem;">üß†</div>
                    <div>
                        <h1 style="font-family: var(--pixel-font-title); font-size: var(--pixel-font-2xl); margin-bottom: var(--px-unit-half); text-shadow: 2px 2px 0 rgba(255, 255, 255, 0.8);">
                            TWRB
                        </h1>
                        <div style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-xs); color: var(--pixel-ink-soft);">
                            The Weekly Research Brief
                        </div>
                    </div>
                </div>
                <div class="pixel-flex pixel-flex-wrap pixel-gap-2">
                    <span class="pixel-badge pixel-badge--star" data-icon="‚≠ê">Awesome</span>
                    <span class="pixel-badge pixel-badge--heart" data-icon="‚ù§Ô∏è">Made With Love</span>
                    <span class="pixel-badge pixel-badge--diamond" data-icon="üíé">Open Source</span>
                </div>
                
                <!-- Animated character on the right -->
                <picture class="sprite sprite-right">
                    <source srcset="web/assets/R&M.webp" type="image/webp">
                    <img src="web/assets/R&M.gif" alt="" aria-hidden="true" width="128" height="128">
                </picture>
            </div>
            <div class="pixel-text-center pixel-mt-2" style="font-family: var(--pixel-font-body); font-style: italic; color: var(--pixel-ink-soft);">
                "The more I know, the more I realize I know nothing."
            </div>
        </div>
    </header>

    <nav class="pixel-p-3">
        <div class="pixel-container">
            <div class="pixel-card pixel-flex-col pixel-gap-2 nav-stack" style="padding: var(--pixel-space-2);">
                <div class="pixel-flex pixel-flex-wrap pixel-gap-2 nav-actions">
                    <a href="#home" class="pixel-btn pixel-btn--sm">üè† Home</a>
                    <a href="atlas-wrapper.html" class="pixel-btn pixel-btn--primary pixel-btn--sm" title="Algorithm Templates for Live AI Scripts">
                        üìä ATLAS 
                        <span class="pixel-badge pixel-badge--crown" data-icon="‚ú®" style="margin-left: var(--px-unit-half); font-size: var(--pixel-font-xs);">New</span>
                    </a>
                    <a href="web/agents.html" class="pixel-btn pixel-btn--sm">ü§ñ Agents</a>
                    
                    <div class="pixel-dropdown" style="position: relative; display: inline-block;">
                        <button class="pixel-btn pixel-btn--sm pixel-dropdown-btn" onclick="toggleDropdown()">üìÖ Years ‚ñº</button>
                        <div class="pixel-dropdown-content" id="yearsDropdown" style="display: none; position: absolute; top: 100%; left: 0; z-index: var(--pixel-z-dropdown); margin-top: var(--px-unit-half);">
                            <div class="pixel-card" style="min-width: 120px; padding: var(--pixel-space-1);">
                                <a href="#2025" class="pixel-btn pixel-btn--sm" style="width: 100%; margin-bottom: var(--px-unit-half);">2025</a>
                                <a href="#2024" class="pixel-btn pixel-btn--sm" style="width: 100%;">2024</a>
                            </div>
                        </div>
                    </div>
                    
                    <a href="web/about.html" class="pixel-btn pixel-btn--sm">‚ÑπÔ∏è About</a>
                    <a href="#contribute" class="pixel-btn pixel-btn--sm">ü§ù Contribute</a>
                    <a href="#contact" class="pixel-btn pixel-btn--sm">‚úâÔ∏è Contact</a>
                    <div class="nav-lang-inline" aria-label="Language switch">
                        <a href="index.html" class="pixel-btn pixel-btn--sm" aria-label="Switch to Russian">RU</a>
                        <span class="pixel-badge pixel-badge--star" data-icon="‚≠ê" aria-label="Current language English">EN</span>
                    </div>
                </div>
                
                <div class="pixel-flex pixel-gap-1 pixel-justify-end nav-search" style="min-width: 200px;">
                    <input type="text" class="pixel-input" placeholder="Search papers..." style="font-size: var(--pixel-font-sm);">
                    <button class="pixel-btn pixel-btn--primary pixel-btn--sm">üîç</button>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <div class="sidebar-layout">
            <aside class="pixel-p-3" style="width: 280px;">
                <!-- Game Menu Header -->
                <div class="pixel-card pixel-card--accent pixel-text-center pixel-mb-3">
                    <h3 style="font-family: var(--pixel-font-title); font-size: var(--pixel-font-sm); margin-bottom: var(--pixel-space-1);">
                        üéÆ GAME MENU
                    </h3>
                    <div class="pixel-flex pixel-flex-center pixel-gap-2">
                        <span class="pixel-badge pixel-badge--star" data-icon="‚≠ê">ACTIVE</span>
                        <span class="pixel-badge pixel-badge--heart" data-icon="‚ù§Ô∏è">ONLINE</span>
                    </div>
                </div>

                <!-- Year Selection (Game Levels) -->
                <div class="pixel-card pixel-mb-3">
                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base); margin-bottom: var(--pixel-space-2);">
                        üè∞ SELECT LEVEL
                    </h4>
                    <div class="pixel-flex pixel-flex-wrap pixel-gap-2">
                        <a href="#2025" class="pixel-btn pixel-btn--primary pixel-btn--sm" style="flex: 1;">
                            üó°Ô∏è 2025
                            <span class="pixel-badge" data-icon="üî•" style="margin-left: var(--px-unit-half);">Active</span>
                        </a>
                        <a href="#2024" class="pixel-btn pixel-btn--sm" style="flex: 1;">
                            üõ°Ô∏è 2024
                        </a>
                    </div>
                </div>

                <!-- Skills/Tags (Inventory) -->
                <div class="pixel-card pixel-mb-3">
                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base); margin-bottom: var(--pixel-space-2);">
                        üéí SKILL INVENTORY
                    </h4>
                    <div class="pixel-flex pixel-flex-wrap pixel-gap-1">
                        <span class="pixel-tag">ü§ñ LLMs</span>
                        <span class="pixel-tag">üß† Deep Learning</span>
                        <span class="pixel-tag">üí¨ NLP</span>
                        <span class="pixel-tag">üëÅÔ∏è Computer Vision</span>
                        <span class="pixel-tag">üéØ Reinforcement Learning</span>
                        <span class="pixel-tag">üîÑ Transformers</span>
                        <span class="pixel-tag">üß¨ Genomics</span>
                        <span class="pixel-tag">‚ö° Efficient Training</span>
                    </div>
                </div>

                <!-- Hot Papers (Quest Log) -->
                <div class="pixel-card">
                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base); margin-bottom: var(--pixel-space-2);">
                        üî• ACTIVE QUESTS
                    </h4>
                    <div style="display: flex; flex-direction: column; gap: var(--px-unit);">
                        <a href="#paper1" class="pixel-btn pixel-btn--warning pixel-btn--sm" style="text-align: left; font-size: var(--pixel-font-xs);">
                            üìä Distillation Scaling Laws
                        </a>
                        <a href="#paper2" class="pixel-btn pixel-btn--success pixel-btn--sm" style="text-align: left; font-size: var(--pixel-font-xs);">
                            üßÆ rStar-Math
                        </a>
                        <a href="#paper3" class="pixel-btn pixel-btn--secondary pixel-btn--sm" style="text-align: left; font-size: var(--pixel-font-xs);">
                            üöÄ DeepSpeed-MoE
                        </a>
                        <a href="#paper4" class="pixel-btn pixel-btn--sm" style="text-align: left; font-size: var(--pixel-font-xs);">
                            üß¨ CRISPR-CAS9 technology
                        </a>
                    </div>
                </div>

                <!-- Player Stats -->
                <div class="pixel-card pixel-card--success pixel-mt-3 pixel-text-center">
                    <h5 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-sm); margin-bottom: var(--pixel-space-1);">
                        üë§ PLAYER STATS
                    </h5>
                    <div class="pixel-progress pixel-mb-2">
                        <div class="pixel-progress__bar" style="width: 92%;"></div>
                        <div class="pixel-progress__label" style="font-size: var(--pixel-font-xs);">Research XP</div>
                    </div>
                    <div class="pixel-flex pixel-flex-between" style="font-size: var(--pixel-font-xs);">
                        <span>üèÜ Level: Master</span>
                        <span>‚ö° 920/1000 XP</span>
                    </div>
                </div>
            </aside>

            <div class="content">
                <section id="home" class="pixel-p-4">
                    <!-- Game Title Screen -->
                    <div class="pixel-card pixel-card--accent pixel-text-center pixel-mb-4">
                        <h1 style="font-family: var(--pixel-font-title); font-size: var(--pixel-font-3xl); margin-bottom: var(--pixel-space-2); text-shadow: 3px 3px 0 rgba(255, 255, 255, 0.8);">
                            üéÆ WELCOME TO üéÆ
                        </h1>
                        <h2 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-xl); color: var(--pixel-accent-primary); margin-bottom: var(--pixel-space-3);">
                            THE WEEKLY RESEARCH BRIEF
                        </h2>
                        
                        <!-- Player Stats -->
                        <div class="pixel-flex pixel-flex-center pixel-gap-4 pixel-mb-3">
                            <div class="pixel-card pixel-card--success" style="padding: var(--pixel-space-2); min-width: 120px;">
                                <div style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-xs); color: var(--pixel-ink-soft); margin-bottom: var(--px-unit-half);">LEVEL</div>
                                <div style="font-family: var(--pixel-font-title); font-size: var(--pixel-font-lg); color: var(--pixel-accent-success);">‚àû</div>
                            </div>
                            <div class="pixel-card pixel-card--warning" style="padding: var(--pixel-space-2); min-width: 120px;">
                                <div style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-xs); color: var(--pixel-ink-soft); margin-bottom: var(--px-unit-half);">PAPERS</div>
                                <div style="font-family: var(--pixel-font-title); font-size: var(--pixel-font-lg); color: var(--pixel-accent-warning);">500+</div>
                            </div>
                            <div class="pixel-card" style="padding: var(--pixel-space-2); min-width: 120px;">
                                <div style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-xs); color: var(--pixel-ink-soft); margin-bottom: var(--px-unit-half);">YEARS</div>
                                <div style="font-family: var(--pixel-font-title); font-size: var(--pixel-font-lg); color: var(--pixel-accent-primary);">2024-25</div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="pixel-flex pixel-flex-center pixel-gap-3 pixel-mb-3">
                            <button class="pixel-btn pixel-btn--primary pixel-btn--lg" onclick="scrollToSection('2025')">
                                üöÄ START QUEST
                            </button>
                            <button class="pixel-btn pixel-btn--secondary pixel-btn--lg" onclick="scrollToSection('about')">
                                üìñ LORE
                            </button>
                        </div>
                    </div>

                    <!-- Game Description -->
                    <div class="pixel-card pixel-mb-4">
                        <h3 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-lg); margin-bottom: var(--pixel-space-2);">
                            üéØ QUEST OBJECTIVES
                        </h3>
                        <p style="margin-bottom: var(--pixel-space-2);">
                            Welcome to the world of scientific research! This repository is a weekly collection of paper reviews from arXiv and Hugging Face in the field of Machine Learning and Artificial Intelligence.
                        </p>
                        
                        <!-- Mission List -->
                        <div class="pixel-grid pixel-grid-2 pixel-gap-3">
                            <div class="pixel-card pixel-card--success">
                                <div class="pixel-flex pixel-gap-2 pixel-mb-2">
                                    <span style="font-size: 1.5rem;">üî¨</span>
                                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base);">Research Quest</h4>
                                </div>
                                <p style="font-size: var(--pixel-font-sm);">Systematic exploration of cutting-edge AI research</p>
                            </div>
                            
                            <div class="pixel-card pixel-card--warning">
                                <div class="pixel-flex pixel-gap-2 pixel-mb-2">
                                    <span style="font-size: 1.5rem;">üìù</span>
                                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base);">Translation Mission</h4>
                                </div>
                                <p style="font-size: var(--pixel-font-sm);">Clear and accessible summaries of complex research</p>
                            </div>
                            
                            <div class="pixel-card pixel-card--accent">
                                <div class="pixel-flex pixel-gap-2 pixel-mb-2">
                                    <span style="font-size: 1.5rem;">‚ö°</span>
                                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base);">Implementation Challenge</h4>
                                </div>
                                <p style="font-size: var(--pixel-font-sm);">Practical implementation of described methods and algorithms</p>
                            </div>
                            
                            <div class="pixel-card">
                                <div class="pixel-flex pixel-gap-2 pixel-mb-2">
                                    <span style="font-size: 1.5rem;">üèÜ</span>
                                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base);">Knowledge Base</h4>
                                </div>
                                <p style="font-size: var(--pixel-font-sm);">Building a knowledge base for researchers and enthusiasts</p>
                            </div>
                        </div>
                    </div>

                    <!-- XP Progress Bar -->
                    <div class="pixel-card pixel-card--accent">
                        <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base); margin-bottom: var(--pixel-space-2);">
                            üåü PROJECT PROGRESS
                        </h4>
                        <div style="margin-bottom: var(--pixel-space-1);">
                            <span style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-sm); color: var(--pixel-ink-soft);">
                                Research Mastery Level
                            </span>
                        </div>
                        <div class="pixel-progress">
                            <div class="pixel-progress__bar" style="width: 85%;"></div>
                            <div class="pixel-progress__label">Master Researcher</div>
                        </div>
                    </div>
                </section>

                <!-- Year sections will be dynamically added here by script.js -->
                <!-- Example structure (will be removed/replaced by JS) -->
                <!--
                <section id="2025" class="year-section">
                    <h2 class="year-title">2025 Papers</h2>
                    <div class="weeks-grid">
                        Placeholder for week cards...
                    </div>
                </section>
                 -->
            </div>
        </div>
    </main>

    

    <!-- Full-Screen Reading Modal -->
    <div id="markdown-modal" class="reading-modal">
        <div class="reading-modal__overlay"></div>
        <div class="reading-modal__container">
            <!-- Sticky Header -->
            <header class="reading-modal__header">
                <div class="reading-header__left">
                    <h1 class="reading-title">üìú Quest Details</h1>
                    <div class="reading-subtitle">Technical Review</div>
                </div>
                <div class="reading-header__controls">
                    <button class="reading-btn reading-btn--theme" title="Toggle theme">üåô</button>
                    <button class="reading-btn reading-btn--font-smaller" title="Smaller font">A-</button>
                    <button class="reading-btn reading-btn--font-larger" title="Larger font">A+</button>
                    <button class="reading-btn reading-btn--close" title="Close (Esc)">√ó</button>
                </div>
            </header>
            
            <!-- Content Area -->
            <main class="reading-modal__main">
                <div class="reading-loader" style="display: none;">
                    <div class="pixel-card pixel-text-center pixel-p-4">
                        <h3 style="font-family: var(--pixel-font-display); margin-bottom: var(--pixel-space-2);">
                            üéÆ Loading Quest...
                        </h3>
                        <div class="loader"></div>
                    </div>
                </div>
                <article class="reading-article" id="markdown-content">
                    <!-- Markdown content will be loaded here -->
                </article>
            </main>
        </div>
    </div>

    <footer class="pixel-p-4" style="margin-top: var(--pixel-space-8); background: var(--pixel-bg-lavender);">
        <div class="pixel-container">
            <!-- Game Over Screen Style -->
            <div class="pixel-card pixel-card--accent pixel-text-center pixel-mb-4">
                <h2 style="font-family: var(--pixel-font-title); font-size: var(--pixel-font-2xl); margin-bottom: var(--pixel-space-2);">
                    üéÆ GAME INFO üéÆ
                </h2>
                <div class="pixel-flex pixel-flex-center pixel-gap-3">
                    <span class="pixel-badge pixel-badge--star" data-icon="‚≠ê">Level Complete</span>
                    <span class="pixel-badge pixel-badge--heart" data-icon="‚ù§Ô∏è">Thanks for Playing</span>
                    <span class="pixel-badge pixel-badge--diamond" data-icon="üíé">Come Back Soon</span>
                </div>
            </div>

            <!-- Footer Content in Game Style -->
            <div class="pixel-grid pixel-grid-4 pixel-gap-4">
                <!-- About Section -->
                <div class="pixel-card">
                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base); margin-bottom: var(--pixel-space-2);">
                        üìñ About Quest
                    </h4>
                    <p style="font-size: var(--pixel-font-sm); margin-bottom: var(--pixel-space-3);">
                        Weekly collection of arXiv paper reviews in ML/AI with practical implementations.
                    </p>
                    <div class="pixel-flex pixel-gap-2">
                        <a href="https://github.com/Verbasik" class="pixel-btn pixel-btn--sm" target="_blank" rel="noopener">üêô GitHub</a>
                        <a href="https://t.me/Verbasik" class="pixel-btn pixel-btn--sm" target="_blank" rel="noopener" title="@Verbasik">üì® Telegram</a>
                        <a href="https://www.linkedin.com/in/verbasik/" class="pixel-btn pixel-btn--sm" target="_blank" rel="noopener">üíº LinkedIn</a>
                        <a href="mailto:verbasik2018@gmail.com" class="pixel-btn pixel-btn--sm" title="verbasik2018@gmail.com">‚úâÔ∏è Email</a>
                    </div>
                </div>

                <!-- Quick Links Section -->
                <div class="pixel-card">
                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base); margin-bottom: var(--pixel-space-2);">
                        üöÄ Quick Links
                    </h4>
                    <div style="display: flex; flex-direction: column; gap: var(--px-unit);">
                        <a href="#home" class="pixel-btn pixel-btn--sm" style="text-align: left;">üè† Home Base</a>
                        <a href="atlas-wrapper.html" class="pixel-btn pixel-btn--sm" style="text-align: left;">üìä ATLAS Project</a>
                        <a href="#2025" class="pixel-btn pixel-btn--sm" style="text-align: left;">üó°Ô∏è 2025 Papers</a>
                        <a href="#2024" class="pixel-btn pixel-btn--sm" style="text-align: left;">üõ°Ô∏è 2024 Papers</a>
                    </div>
                </div>

                <!-- Resources Section -->
                <div class="pixel-card">
                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base); margin-bottom: var(--pixel-space-2);">
                        üéí Resources
                    </h4>
                    <div style="display: flex; flex-direction: column; gap: var(--px-unit);">
                        <a href="https://arxiv.org/" class="pixel-btn pixel-btn--sm" style="text-align: left;" target="_blank">üìÑ arXiv</a>
                        <a href="https://paperswithcode.com/" class="pixel-btn pixel-btn--sm" style="text-align: left;" target="_blank">üíª Papers With Code</a>
                        <a href="https://github.com/" class="pixel-btn pixel-btn--sm" style="text-align: left;" target="_blank">üêô GitHub</a>
                        <a href="https://colab.research.google.com/" class="pixel-btn pixel-btn--sm" style="text-align: left;" target="_blank">üî¨ Google Colab</a>
                    </div>
                </div>

                <!-- Join Guild -->
                <div class="pixel-card">
                    <h4 style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-base); margin-bottom: var(--pixel-space-2);">ü§ù Join Guild</h4>
                    <p style="font-size: var(--pixel-font-sm); margin-bottom: var(--pixel-space-2);">Found an error or want to contribute? Submit a pull request!</p>
                    <a href="https://github.com/Verbasik/Weekly-arXiv-ML-AI-Research-Review" class="pixel-btn pixel-btn--primary pixel-btn--sm" target="_blank">üöÄ Join on GitHub</a>
                </div>

                
            </div>

            <!-- Copyright in Pixel Style -->
            <div class="pixel-card pixel-text-center pixel-mt-4" style="padding: var(--pixel-space-2);">
                <div style="font-family: var(--pixel-font-display); font-size: var(--pixel-font-sm); color: var(--pixel-ink-soft);">
                    üéÆ ¬© 2025 TWRB - Made with ‚ù§Ô∏è for the AI research community üéÆ
                </div>
                <div style="font-family: var(--pixel-font-body); font-size: var(--pixel-font-xs); color: var(--pixel-ink-soft); margin-top: var(--px-unit);">
                    Pixel theme powered by 8-bit nostalgia and modern web tech
                </div>
            </div>
        </div>
    </footer>

    

    <!-- Pixel Back to Top Button -->
    <div class="pixel-btn pixel-btn--primary" id="back-to-top" style="position: fixed; bottom: var(--pixel-space-3); right: var(--pixel-space-3); z-index: var(--pixel-z-sticky); opacity: 0; visibility: hidden; transition: all var(--pixel-transition-smooth); border-radius: var(--pixel-radius-lg);">
        ‚¨ÜÔ∏è TOP
    </div>
    <!-- Pixel Theme JavaScript -->
    <script>
        // Pixel Theme Game Functions
        function toggleDropdown() {
            const dropdown = document.getElementById('yearsDropdown');
            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        }
        
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            } else {
                // If section doesn't exist, scroll to main content
                document.querySelector('main').scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.pixel-dropdown');
            const dropdownContent = document.getElementById('yearsDropdown');
            
            if (dropdown && !dropdown.contains(event.target)) {
                dropdownContent.style.display = 'none';
            }
        });
        
        // Reading Modal functionality
        class ReadingModal {
            constructor() {
                this.modal = document.getElementById('markdown-modal');
                this.overlay = this.modal?.querySelector('.reading-modal__overlay');
                this.container = this.modal?.querySelector('.reading-modal__container');
                this.article = this.modal?.querySelector('.reading-article');
                this.loader = this.modal?.querySelector('.reading-loader');
                this.title = this.modal?.querySelector('.reading-title');
                this.closeBtn = this.modal?.querySelector('.reading-btn--close, .pixel-modal__close');
                this.themeBtn = this.modal?.querySelector('.reading-btn--theme');
                this.fontSmallerBtn = this.modal?.querySelector('.reading-btn--font-smaller');
                this.fontLargerBtn = this.modal?.querySelector('.reading-btn--font-larger');
                
                this.currentFontSize = 'normal';
                this.isDarkTheme = false;
                
                this.initEventListeners();
            }
            
            initEventListeners() {
                if (!this.modal) return;
                
                // Close buttons - fix selectors
                this.closeBtn?.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    this.close();
                });
                this.overlay?.addEventListener('click', (e) => {
                    if (e.target === this.overlay) {
                        this.close();
                    }
                });
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (this.modal.classList.contains('active')) {
                        if (e.key === 'Escape') this.close();
                        if (e.key === '+' || (e.ctrlKey && e.key === '=')) {
                            e.preventDefault();
                            this.increaseFontSize();
                        }
                        if (e.key === '-' || (e.ctrlKey && e.key === '-')) {
                            e.preventDefault();
                            this.decreaseFontSize();
                        }
                        if (e.key === 't' || e.key === 'T') {
                            e.preventDefault();
                            this.toggleTheme();
                        }
                    }
                });
                
                // Control buttons
                this.themeBtn?.addEventListener('click', () => this.toggleTheme());
                this.fontSmallerBtn?.addEventListener('click', () => this.decreaseFontSize());
                this.fontLargerBtn?.addEventListener('click', () => this.increaseFontSize());
            }
            
            open(title, content) {
                if (!this.modal) return;
                
                this.title.textContent = `üìú ${title}`;
                document.body.style.overflow = 'hidden';
                // Reset inline display styles (may be set by standard ModalWindow)
                this.modal.style.display = '';
                this.modal.classList.add('active');
                
                if (content) {
                    this.article.innerHTML = content;
                    this.loader.style.display = 'none';
                } else {
                    this.showLoader();
                }
            }
            
            close() {
                if (!this.modal) return;
                
                this.modal.classList.remove('active');
                // Fully hide the element, overriding any inline display from other modals
                this.modal.style.display = 'none';
                document.body.style.overflow = '';
                this.article.innerHTML = '';
            }
            
            showLoader() {
                this.loader.style.display = 'flex';
                this.article.innerHTML = '';
            }
            
            hideLoader() {
                this.loader.style.display = 'none';
            }
            
            setContent(content) {
                this.article.innerHTML = content;
                this.hideLoader();
            }
            
            toggleTheme() {
                this.isDarkTheme = !this.isDarkTheme;
                if (this.isDarkTheme) {
                    this.container.classList.add('dark-theme');
                    this.themeBtn.textContent = '‚òÄÔ∏è';
                } else {
                    this.container.classList.remove('dark-theme');
                    this.themeBtn.textContent = 'üåô';
                }
            }
            
            increaseFontSize() {
                this.article.classList.remove('font-small', 'font-large', 'font-xl');
                if (this.currentFontSize === 'small') {
                    this.currentFontSize = 'normal';
                } else if (this.currentFontSize === 'normal') {
                    this.currentFontSize = 'large';
                    this.article.classList.add('font-large');
                } else if (this.currentFontSize === 'large') {
                    this.currentFontSize = 'xl';
                    this.article.classList.add('font-xl');
                }
            }
            
            decreaseFontSize() {
                this.article.classList.remove('font-small', 'font-large', 'font-xl');
                if (this.currentFontSize === 'xl') {
                    this.currentFontSize = 'large';
                    this.article.classList.add('font-large');
                } else if (this.currentFontSize === 'large') {
                    this.currentFontSize = 'normal';
                } else if (this.currentFontSize === 'normal') {
                    this.currentFontSize = 'small';
                    this.article.classList.add('font-small');
                }
            }
        }
        
        // Initialize reading modal
        let readingModal;
        
        // Pixel Theme initialization
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üéÆ Pixel Theme Loaded!');
            console.log('üé® Welcome to the retro gaming experience!');
            
            // Initialize reading modal and make it globally accessible
            readingModal = new ReadingModal();
            window.readingModal = readingModal;
            
            // Add pixel sparkle effect to badges (optional enhancement)
            const badges = document.querySelectorAll('.pixel-badge');
            badges.forEach(badge => {
                badge.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05) rotate(-1deg)';
                    this.style.transition = 'all 0.2s ease';
                });
                
                badge.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1) rotate(0deg)';
                });
            });
            
            // Add click effects to pixel buttons
            const pixelButtons = document.querySelectorAll('.pixel-btn');
            pixelButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    // Create pixel "explosion" effect
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const spark = document.createElement('div');
                    spark.style.position = 'absolute';
                    spark.style.left = x + 'px';
                    spark.style.top = y + 'px';
                    spark.style.width = '4px';
                    spark.style.height = '4px';
                    spark.style.backgroundColor = 'var(--pixel-accent-warning)';
                    spark.style.pointerEvents = 'none';
                    spark.style.zIndex = '9999';
                    spark.style.borderRadius = '1px';
                    
                    this.style.position = 'relative';
                    this.appendChild(spark);
                    
                    // Animate and remove
                    setTimeout(() => {
                        if (spark.parentNode) {
                            spark.parentNode.removeChild(spark);
                        }
                    }, 300);
                });
            });
            
            // START QUEST button keeps its original behavior (scrollToSection)
            // Full-screen reading modal now opens only via "Start Quest" buttons in week cards
        });
    </script>
    
    <!-- New DDD Architecture -->
    <script type="module" src="web/main.js"></script>
    <script src="web/presentation/mobile-enhancements.js" defer></script>

</body>
</html> 
